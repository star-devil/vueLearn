# 子组件往父组件传值

## 引用-ref

1. 可以用在dom和组件上
2. 不可以给两个dom同时设置相同的ref,后面的ref dom会覆盖之前的ref dom
    - 但是通过for循环`<div ref="dom" v-for="item in 5"></div>`就会得到5个ref为dom的div,并且这5个div放在一个数组中
    - 获取到这个dom的方法： `.$refs.dom`
    - 如果是放在组件上的ref,`.$refs.dom`拿到的就是组件实例,可以调用实例上的方法，子组件便可以通过这种方式给父组件传值

## 函数传参

1. 通过在子组件的methods中执行带参函数，父组件的methods中定义函数时就可以对参数进行处理，实现子组件往父组件传值
    - 如何在子组件中拿到父组件定义的函数呢？
        1. 属性绑定与注册：用`this.func()`获取

## 事件触发

1. 利用组件的点击事件绑定：
    - 在子组件中`<button @click="handleCilck"></button>`
2. **@click.native**
    - 由于组件本身不具备各种事件监听事件,所以要用到 **@click.native** 属性，使组件具有原生的监听点击事件的方法。但是此法**不经常用**，因为该事件是绑定在整个组件上，并不能具体到组件内的某个dom上
3. **$listeners**
    - 如：`<my-cmp @click="func"></my-cmp>`,在子组件中的`this.$listeners`就是子组件中的属性定义的方法click和函数func(为父组件中定义的func方法),在子组件中执行click方法时`this.$listeners.click(this.msg)`,就能直接用到父组件的func方法，实现子向父传值 ---- 可以监听自定义函数
    当组件上有多个事件需要监听时，用该属性的 **v-on**这个方法比较方便:
    如`<button v-on="$listeners"></button>`,可以执行组件上绑定的所有方法。缺点：无法传参
4. **$emit(触发的事件,事件的参数)**
    - 虽然组件不具备监听事件的功能，但是可以手动触发事件`this.$emit(click)` ---- 可以触发自定义事件


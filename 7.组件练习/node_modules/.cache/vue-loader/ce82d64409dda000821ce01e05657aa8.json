{"remainingRequest":"C:\\Users\\70729\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vscode文件\\平时学习\\练习\\vue\\7.组件练习\\calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vscode文件\\平时学习\\练习\\vue\\7.组件练习\\calendar.vue","mtime":1579069268787},{"path":"C:\\Users\\70729\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\70729\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\70729\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHllYXI6IG51bGwsDQogICAgICBtb250aDogbnVsbCwNCiAgICAgIGRheTogbnVsbCwNCiAgICAgIGN1ckRhdGU6IG51bGwNCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0SW5pdFRpbWUoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldEluaXRUaW1lKCkgew0KICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7DQogICAgICB0aGlzLnllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7DQogICAgICB0aGlzLm1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTsNCiAgICAgIHRoaXMuZGF5ID0gZGF0ZS5nZXREYXRlKCk7DQogICAgICB0aGlzLmN1ckRhdGUgPSBgJHt0aGlzLnllYXJ9LSR7dGhpcy5tb250aH0tJHt0aGlzLmRheX1gOw0KICAgIH0sDQogICAgaGFuZGxlQ2hvb3NlRGF5KGUpIHsNCiAgICAgIHRoaXMuZGF5ID0gZS50YXJnZXQuZGF0YXNldC5kYXk7DQogICAgfSwNCiAgICBoYW5kbGVQcmV2KCkgew0KICAgICAgaWYodGhpcy5tb250aCA9PSAxKXsNCiAgICAgICAgdGhpcy55ZWFyIC0tOw0KICAgICAgICB0aGlzLm1vbnRoID0gMTINCiAgICAgIH1lbHNlew0KICAgICAgICB0aGlzLm1vbnRoLS07DQogICAgICB9DQogICAgICB0aGlzLmFsbERheXMoKTsgDQogICAgfSwNCiAgICBoYW5kbGVOZXh0KCkgew0KICAgICAgaWYodGhpcy5tb250aCA9PSAxMil7DQogICAgICAgIHRoaXMueWVhciArKzsNCiAgICAgICAgdGhpcy5tb250aCA9IDENCiAgICAgIH1lbHNlew0KICAgICAgICB0aGlzLm1vbnRoKys7DQogICAgICB9DQogICAgICB0aGlzLmFsbERheXMoKTsgDQogICAgfSwNCiAgICBhbGxEYXlzKCkgew0KICAgICAgY29uc3QgYWxsRGF5cyA9IG5ldyBEYXRlKHRoaXMueWVhciwgdGhpcy5tb250aCwgMCkuZ2V0RGF0ZSgpOw0KICAgICAgaWYoIHRoaXMuZGF5ID49IGFsbERheXMpew0KICAgICAgICB0aGlzLmRheSA9IGFsbERheXM7DQogICAgICB9DQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGJlZ2luRGF5KCkgew0KICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMueWVhciwgdGhpcy5tb250aCAtIDEsIDEpLmdldERheSgpOw0KICAgIH0sDQogICAgY3VyRGF5cygpIHsNCiAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnllYXIsIHRoaXMubW9udGgsIDApLmdldERhdGUoKTsNCiAgICB9LA0KICAgIHByZXZEYXlzKCkgew0KICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMueWVhciwgdGhpcy5tb250aCAtIDEsIDApLmdldERhdGUoKTsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"calendar.vue","sourceRoot":".","sourcesContent":["<!--日历组件小tips:\r\n获取这个月的第一天是周几：\r\nnew Date(nowyear, nowmonth-1, 1).getDay();\r\n获取这个月的总天数：\r\nnew Date(nowyear, nowmonth, 0).getDate();\r\ndom节点上自定义data-day属性,会存放在对应的事件对象中,e.target.dataset\r\n-->\r\n<template>\r\n  <div class=\"calendar\">\r\n    <div class=\"date-header\">\r\n      <div class=\"prev-month\" @click=\"handlePrev\"/>\r\n      <div class=\"show-date\">{{ year }}年{{ month }}月{{ day }}日</div>\r\n      <div class=\"next-month\" @click=\"handleNext\"/>\r\n    </div>\r\n    <div class=\"date-content\">\r\n      <div class=\"week-header\">\r\n        <div v-for=\"item in ['日', '一', '二', '三', '四', '五', '六']\" :key=\"item\">{{ item }}</div>\r\n      </div>\r\n      <div class=\"week-day\">\r\n        <div class=\"every-day\" v-for=\"item in 42\" :key=\"item\">\r\n          <div\r\n            v-if=\"item - beginDay > 0 && item - beginDay <= curDays\"\r\n            :class=\"{\r\n                'now-day': `${year}-${month}-${item - beginDay}` === curDate,\r\n                'active-day': `${year}-${month}-${item - beginDay}` === `${year}-${month}-${day}`\r\n                }\"\r\n            :data-day=\"item - beginDay\"\r\n            @click=\"handleChooseDay\"\r\n          >{{ item - beginDay}}</div>\r\n          <div class=\"other-day\" v-else-if=\"item - beginDay <= 0\">{{ item - beginDay + prevDays }}</div>\r\n          <div class=\"other-day\" v-else>{{ item - curDays - beginDay}}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      year: null,\r\n      month: null,\r\n      day: null,\r\n      curDate: null\r\n    };\r\n  },\r\n  created() {\r\n    this.getInitTime();\r\n  },\r\n  methods: {\r\n    getInitTime() {\r\n      const date = new Date();\r\n      this.year = date.getFullYear();\r\n      this.month = date.getMonth() + 1;\r\n      this.day = date.getDate();\r\n      this.curDate = `${this.year}-${this.month}-${this.day}`;\r\n    },\r\n    handleChooseDay(e) {\r\n      this.day = e.target.dataset.day;\r\n    },\r\n    handlePrev() {\r\n      if(this.month == 1){\r\n        this.year --;\r\n        this.month = 12\r\n      }else{\r\n        this.month--;\r\n      }\r\n      this.allDays(); \r\n    },\r\n    handleNext() {\r\n      if(this.month == 12){\r\n        this.year ++;\r\n        this.month = 1\r\n      }else{\r\n        this.month++;\r\n      }\r\n      this.allDays(); \r\n    },\r\n    allDays() {\r\n      const allDays = new Date(this.year, this.month, 0).getDate();\r\n      if( this.day >= allDays){\r\n        this.day = allDays;\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    beginDay() {\r\n      return new Date(this.year, this.month - 1, 1).getDay();\r\n    },\r\n    curDays() {\r\n      return new Date(this.year, this.month, 0).getDate();\r\n    },\r\n    prevDays() {\r\n      return new Date(this.year, this.month - 1, 0).getDate();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.calendar {\r\n  width: 500px;\r\n  margin-left: 100px;\r\n}\r\n\r\n.date-header {\r\n  width: 100%;\r\n  display: flex;\r\n  line-height: 30px;\r\n}\r\n\r\n.prev-month,\r\n.next-month {\r\n  border: 15px solid transparent;\r\n  width: 0;\r\n  height: 0;\r\n  cursor: pointer;\r\n}\r\n\r\n.prev-month {\r\n  border-right-color: #007fff;\r\n}\r\n\r\n.next-month {\r\n  border-left-color: #007fff;\r\n}\r\n\r\n.show-date {\r\n  flex: 1;\r\n  text-align: center;\r\n  color: #007fff;\r\n}\r\n.week-header {\r\n  display: flex;\r\n}\r\n\r\n.week-header > div {\r\n  flex: 1;\r\n  text-align: center;\r\n  line-height: 30px;\r\n  background-color: #007fff;\r\n  color: #fff;\r\n  font-weight: 600;\r\n}\r\n\r\n.week-day {\r\n  width: 100%;\r\n}\r\n.every-day {\r\n  display: inline-block;\r\n  width: 14.28%;\r\n  line-height: 50px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n}\r\n.other-day {\r\n  color: #ccc;\r\n}\r\n.now-day {\r\n  background-color: #007fff;\r\n  color: #fff;\r\n  font-weight: 600;\r\n}\r\n.active-day:not(.now-day) {\r\n  color: #007fff;\r\n  border: 2px solid #007fff;\r\n  line-height: 46px;\r\n}\r\n</style>\r\n"]}]}